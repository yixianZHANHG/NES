angular.module("myApp",["ionic","myApp.httpFactory","myApp.slideBox","myApp.tabs","myApp.news","myApp.live","myApp.topic","myApp.personal","myApp.my","myApp.newCon","ionic-datepicker","myApp.topicOne","myApp.liveOne"]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,t,n){n.views.transition("ios"),n.tabs.position("bottom"),n.navBar.alignTitle("center"),n.tabs.style("standard"),e.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"}),t.otherwise("tabs/news")}]),angular.module("myApp.live",[]).config(["$stateProvider",function(e){e.state("tabs.live",{url:"/live",views:{"tabs-live":{templateUrl:"live.html",controller:"liveController"}}})}]).controller("liveController",["$scope","$ionicSlideBoxDelegate","$state","HttpFactory",function(e,t,n,o){e.news={adsArray1:[]},e.pop=function(e){};var a="http://data.live.126.net/livechannel/classifylist.json",a="http://data.live.126.net/livechannel/previewlist.json";o.getData(a).then(function(t){var o=[];if(t.top.length){for(var a=0;a<t.top.length;a++){var i={titile:t.top[a].roomName,imgsrc:t.top[a].image};o.push(i)}e.news.adsArray1=o}e.imas=t.future,e.itema=t.sublives,e.imad=t.live_review,e.GOSome=function(t){var o=e.itema[t].tid;n.go("liveOne",{data:o})}})}]),angular.module("myApp.liveOne",[]).config(["$stateProvider",function(e){e.state("liveOne",{url:"/liveOne",templateUrl:"liveOne.html",controller:"liveOneController",params:{data:null}})}]).controller("liveOneController",["$scope","$stateParams","$sce","HttpFactory",function(e,t,n,o){var a=t.data;console.log(a);var i="http://c.m.163.com/nc/subscribe/list/"+a+"/live/0-20.html";console.log(i),o.getData(i).then(function(t){e.items=t.subscribe_info,console.log(t.subscribe_info)})}]),angular.module("myApp.my",[]).config(["$stateProvider",function(e){e.state("tabs.my",{url:"/my",views:{"tabs-personal":{templateUrl:"my.html",controller:"myController"}}})}]).controller("myController",["$scope",function(e){e.duSome=function(){console.log("jhhhhjeqwe")}}]),angular.module("myApp.newCon",[]).config(["$stateProvider",function(e){e.state("newCon",{url:"/newCon",templateUrl:"newCon.html",controller:"newConController",params:{data:null}})}]).controller("newConController",["$scope","$stateParams","$sce","HttpFactory",function(e,t,n,o){e.newCon={detail:"",body:""};var a=t.data;console.log(t.data);var i="http://c.m.163.com/nc/article/"+a+"/full.html";o.getData(i).then(function(t){e.newCon.detail=t[a];var n=e.newCon.detail;if(n.img&&n.img.length)for(var o=0;o<n.img.length;o++){var i=n.img[o].pixel.split("*")[0];i>document.body.offsetWidth&&(i=document.body.offsetWidth);var r="width:"+i+"px",s="<img style='"+r+"' src="+n.img[o].src+">";n.body=n.body.replace(n.img[o].ref,s)}})}]),angular.module("myApp.news",[]).config(["$stateProvider",function(e){e.state("tabs.news",{url:"/news",views:{"tabs-news":{templateUrl:"news.html",controller:"newsController"}}})}]).controller("newsController",["$scope","$ionicPopup","$state","$ionicViewSwitcher","$ionicLoading","$ionicScrollDelegate","HttpFactory",function(e,t,n,o,a,i,r){var s="http://c.m.163.com/nc/topicset/ios/subscribe/manage/listspecial.html";r.getData(s).then(function(t){e.numArry=t.tList,console.log(t)}),e.ddSome=function(t){var n=e.numArry[t].tid,o="http://c.m.163.com/dlist/article/dynamic?from="+n+"&offset=0&size=10&fn=2&passport=&devId=%2F3MuOc2%2Ftpr3BFTbGpkB3EkbdABijhZKb0YUM%2BIpk4QLD6gVVgPcP%2BV791ye9IA%2FIIGNeE0nI41SFrBIaL1THA%3D%3D&lat=&lon=&version=17.2";r.getData(o).then(function(t){e.items=t[n],console.log(e.items)})},e.news={newsArray:"",adsArray:[]};var l="http://c.m.163.com/recommend/getSubDocPic?tid=T1348647909107&from=toutiao&offset=0&size=10&fn=1&prog=LMA1&passport=&devId=eW7qcXmjWleAjCxp25EgTBBywawDoVwZiZ9SMikG4cGiOa69wsn%2FdeHaaNGRMr2hIIGNeE0nI41SFrBIaL1THA%3D%3D&lat=DJEPdRawaRYCJZwF3SQobA%3D%3D&lon=7J7OmyytD8SqP0pSV1cJJA%3D%3D";r.getData(l).then(function(t){e.news.newsArray=t,e.news.adsArray=t.T1348647909107[0].ads}),e.items=[];var c=10;e.loadMore=function(){var t="http://c.m.163.com/recommend/getSubDocPic?tid=T1348647909107&from=toutiao&offset=0&size="+c+"&fn=1&prog=LMA1&passport=&devId=eW7qcXmjWleAjCxp25EgTBBywawDoVwZiZ9SMikG4cGiOa69wsn%2FdeHaaNGRMr2hIIGNeE0nI41SFrBIaL1THA%3D%3D&lat=DJEPdRawaRYCJZwF3SQobA%3D%3D&lon=7J7OmyytD8SqP0pSV1cJJA%3D%3D";c+=10,r.getData(t).then(function(t){e.name=t.T1348647909107.splice(0,1),e.items=t.T1348647909107.concat(e.items),e.$broadcast("scroll.infiniteScrollComplete")})},e.doSome=function(t){var a=e.items[t].id;n.go("newCon",{data:a}),o.nextDirection("forward")}}]),angular.module("cftApp.news2",[]).controller("newsController2",["$scope","$ionicPopup","$ionicSlideBoxDelegate","$state","HttpFactory","UrlArray",function(e,t,n,o,a,i){e.news={newsArray2:[],adsArray2:[],index:0},e.$on("updateNews2",function(t,n){e.news.adsArray2=[],e.news.newsArray2=[],e.news.index=0,console.log("view2,"+n),"清理"!=n&&e.loadMore2(i[n])}),e.loadMore2=function(t){var n="";t?(n=t,n=n.replace("@",e.news.index)):n="http://c.m.163.com/recommend/getChanListNews?channel=T1456112189138&size=10&offset="+e.news.index+"&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640855&sign=n%2BRpzwR4DEI0MaavyBhQlpZaxlFxQdWjn0Ty7qOYWaB48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D",0===e.news.index?e.news.index+=11:e.news.index+=10,a.getData(n).then(function(t){return t?(e.news.adsArray2.length||t[0].ads&&(e.news.adsArray2=t[0].ads),e.news.newsArray2=e.news.newsArray2.concat(t),0===e.news.index&&e.news.newsArray2.splice(0,1),void e.$broadcast("scroll.infiniteScrollComplete")):void alert("没有更多数据!")})}}]),angular.module("myApp.personal",["ionic-datepicker"]).config(["$stateProvider","ionicDatePickerProvider",function(e,t){e.state("tabs.personal",{url:"/personal",views:{"tabs-personal":{templateUrl:"personal.html",controller:"personalController"}}})}]).controller("personalController",["$scope","ionicDatePicker","$ionicBackdrop","$timeout",function(e,t,n,o){var a={callback:function(e){console.log("Return value from the datepicker popup is : "+e,new Date(e))},disabledDates:[new Date("Wednesday, August 12, 2015"),new Date("08-16-2016"),new Date(1439676e6)]};e.openDatePicker=function(){t.openDatePicker(a)};var i=1;e.changColor=function(){i++,i%2==0?n.retain():n.release()}}]),angular.module("myApp.tabs",[]).controller("tabsController",["$scope","$ionicSlideBoxDelegate",function(e,t){e.items=["热门","分类","订阅"],e.dd=function(e,n){var o=angular.element(e.currentTarget).parent().children();console.log(o);var a=angular.element(e.target);console.log(a),o.removeClass("active"),a.addClass("active"),t.slide(n)},e.item=["问吧","话题","关注"]}]),angular.module("myApp.topic",[]).config(["$stateProvider",function(e){e.state("tabs.topic",{url:"/topic",views:{"tabs-topic":{templateUrl:"topic.html",controller:"topicController"}}})}]).controller("topicController",["$scope","$ionicLoading","$state","$ionicViewSwitcher","HttpFactory",function(e,t,n,o,a){var i="http://c.m.163.com/newstopic/list/classification.html";e.item="",a.getData(i).then(function(t){console.log(t),e.item=t.data});var r=0;e.items=[],e.loadMore=function(){var t="http://c.m.163.com/newstopic/list/expert/5YyX5Lqs/"+r+"-10.html";a.getData(t).then(function(t){r+=10,e.items=e.items.concat(t.data.expertList),e.$broadcast("scroll.infiniteScrollComplete")})},e.doRefresh=function(){var t="http://c.m.163.com/newstopic/list/expert/5YyX5Lqs/0-10.html";a.getData(t).then(function(t){e.items=e.items.concat(t.data.expertList)}).finally(function(){e.$broadcast("scroll.refreshComplete")})},e.doSome=function(t){var o=e.items[t].expertId;n.go("topicOne",{data:o})},e.changHight=function(){var e=document.querySelector(".topicCarda");"210px"==e.style.height?e.style.height="67px":e.style.height="210px"}}]),angular.module("myApp.topicOne",[]).config(["$stateProvider",function(e){e.state("topicOne",{url:"/topicOne",templateUrl:"topicOne.html",controller:"topicOneController",params:{data:null}})}]).controller("topicOneController",["$scope","$stateParams","$sce","HttpFactory",function(e,t,n,o){var a=t.data,i="http://c.m.163.com/newstopic/qa/"+a+".html";o.getData(i).then(function(t){e.item=t.data,e.items=e.item.expert,e.items.relatedNews?(e.imada=e.items.relatedNews,e.sy=!0):e.sy=!1}),e.changHight=function(){var e=document.querySelector(".topickKard");"200px"==e.style.height?e.style.height="100px":e.style.height="200px"}}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(e,t){return{getData:function(n,o){if(n){var a=t.defer();return n="http://localhost:3000/?myUrl="+encodeURIComponent(n),o=o?o:"GET",e({url:n,method:o,timeout:2e4}).then(function(e){e=e.data,a.resolve(e)},function(e){a.reject(e)}),a.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mgSlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},template:'<div class="topCarousel"><ion-slide-box delegate-handle="topCarouselSlideBox" on-slide-changed="slideHasChanged($index)" auto-play="true" slide-interval="1000" show-pager="true" does-continue="true" ng-if="isShowSlideBox" on-drag="drag($event)"> <ion-slide ng-repeat="ads in sourceArray track by $index" ng-click="goToDetailView($index)"><img ng-src="{{ads.imgsrc}}" class="topCarouselImg"></ion-slide> </ion-slide-box><div class="slideBottomDiv"></div></div>',controller:["$scope","$element","$ionicSlideBoxDelegate",function(e,t,n){e.goToDetailView=function(e){console.log("进入详情页"+e)};var o=t[0].lastElementChild;e.$watch("sourceArray",function(t,n){t&&t.length&&(e.isShowSlideBox=!0,o.innerText=e.sourceArray[0].title)}),e.slideHasChanged=function(e){},n.$getByHandle("mainSlideBox").enableSlide(!1),e.drag=function(e){n.$getByHandle("mainSlideBox").enableSlide(!1),e.stopPropagation()}}],replace:!0,link:function(e,t,n){}}}]),angular.module("cftApp.urls",[]).constant("UrlArray",["http://c.m.163.com/recommend/getSubDocPic?from=toutiao&prog=LMA1&open=&openpath=&fn=1&passport=&devId=%2BnrKMbpU9ZDPUOhb9gvookO3HKJkIOzrIg%2BI9FhrLRStCu%2B7ZneFbZ30i61TL9kY&offset=@&size=10&version=17.1&spever=false&net=wifi&lat=&lon=&ts=1480666192&sign=yseE2FNVWcJVjhvP48U1nPHyzZCKpBKh%2BaOhOE2d6GR48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=appstore","http://c.m.163.com/dlist/article/dynamic?from=T1348648517839&offset=@&size=10&fn=7&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639275&sign=ENAtFozNgGugOq3e1UL6hWbkeBqF24b8ECZ%2FOg2OGlZ48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1456112189138&size=10&offset=@&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640855&sign=n%2BRpzwR4DEI0MaavyBhQlpZaxlFxQdWjn0Ty7qOYWaB48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649079062&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639446&sign=cZqFpGcYxIM23Mk0zlBq8ziD1sRlb1GqZlwcRLb38aZ48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getSubDocPic?from=netease_h&size=10&offset=@&fn=4&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639599&sign=JIfO0JDD%2Bn9%2BAUDPwiCVNSwML5QPD%2BO1KSZcsmDfw2948ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/local/dynamic?from=6YOR5bee&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639679&sign=fibH0nYFS5ZqfhTkz%2Fctkn1b%2B%2B7UaCWuMhwPOm2XAxN48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1457068979049&size=10&offset=@&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639724&sign=uklrBnfDnFoSS86%2B44xw0tzktOhz8ek4D2b6Uh0bXk148ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348648756099&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639780&sign=PqlXEtC2KZaOX7vOO17uHuo4duhmWIxQqoQ4rBKRsQh48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649580692&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639824&sign=BENvYqDl9cYKiJh2irUV5%2Biue8PV%2FKHdFs3tQWGzBqd48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348650593803&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639994&sign=L2rYDnEjMRXqgyoBwjDOU9%2FuAlHKEvkGbCcbOw0egKp48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1419316284722&size=10&offset=@&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640349&sign=kuB1wmMK3BIofo29zp1u%2FCelBxwQVclBPY2jLDS6PfV48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1473054348939&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640251&sign=TxI1npNtFDs5QSgpQr%2FOTwXPVB%2FvuqHD5Vj7E5Ul5t948ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348648141035&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640432&sign=LeTem6ZlcSys0TMWqSD%2FkavFP%2BW7CKnHNX3zs%2B6m3l548ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348654151579&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640614&sign=Ey6%2F0Qyd7pxjaaWUoZLQYriGwqX0xzmATqe6CpZ0C2x48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1414389941036&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640649&sign=DXY4efOR3JOAgU6ePvFftxYD41PHsjGxZdWGM5quV0x48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649145984&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480641094&sign=m32ovzEGXTpUeq0kQ%2BXNMNXg9B6bGu2D0vfF3xrFwjF48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D"]);