angular.module("myApp",["ionic","myApp.httpFactory","myApp.slideBox","myApp.tabs","myApp.news","myApp.live","myApp.topic","myApp.personal","myApp.my","myApp.newCon","ionic-datepicker","myApp.topicOne"]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,t,n){n.views.transition("ios"),n.tabs.position("bottom"),n.navBar.alignTitle("center"),n.tabs.style("standard"),e.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"}),t.otherwise("tabs/news")}]),angular.module("myApp.live",[]).config(["$stateProvider",function(e){e.state("tabs.live",{url:"/live",views:{"tabs-live":{templateUrl:"live.html",controller:"liveController"}}})}]).controller("liveController",["$scope","$ionicSlideBoxDelegate","HttpFactory",function(e,t,n){e.news={adsArray1:[]};var o="http://data.live.126.net/livechannel/previewlist.json";n.getData(o).then(function(t){var n=[];if(t.top.length){for(var o=0;o<t.top.length;o++){var i={titile:t.top[o].roomName,imgsrc:t.top[o].image};n.push(i)}e.news.adsArray1=n}e.imas=t.future,e.itema=t.sublives,e.imad=t.live_review,console.log(e.imad)})}]),angular.module("myApp.my",[]).config(["$stateProvider",function(e){e.state("tabs.my",{url:"/my",views:{"tabs-personal":{templateUrl:"my.html",controller:"myController"}}})}]).controller("myController",["$scope",function(e){e.duSome=function(){console.log("jhhhhjeqwe")}}]),angular.module("myApp.newCon",[]).config(["$stateProvider",function(e){e.state("newCon",{url:"/newCon",templateUrl:"newCon.html",controller:"newConController",params:{data:null}})}]).controller("newConController",["$scope","$stateParams","$sce","HttpFactory",function(e,t,n,o){e.newCon={detail:"",body:""};var i=t.data;console.log(i);var a="http://c.m.163.com/nc/article/"+i+"/full.html";o.getData(a).then(function(t){e.newCon.detail=t[i],console.log(e.newCon.detail);var n=e.newCon.detail;if(n.img&&n.img.length)for(var o=0;o<n.img.length;o++){var a=n.img[o].pixel.split("*")[0];a>document.body.offsetWidth&&(a=document.body.offsetWidth);var r="width:"+a+"px",s="<img style='"+r+"' src="+n.img[o].src+">";n.body=n.body.replace(n.img[o].ref,s),console.log(n.body)}})}]),angular.module("myApp.news",[]).config(["$stateProvider",function(e){e.state("tabs.news",{url:"/news",views:{"tabs-news":{templateUrl:"news.html",controller:"newsController"}}})}]).controller("newsController",["$scope","$ionicPopup","$state","$ionicViewSwitcher","$ionicLoading","$ionicScrollDelegate","HttpFactory",function(e,t,n,o,i,a,r){var s="http://c.m.163.com/nc/topicset/ios/subscribe/manage/listspecial.html";r.getData(s).then(function(t){e.numArry=t.tList}),e.news={newsArray:"",adsArray:[]};var s="http://c.m.163.com/recommend/getSubDocPic?tid=T1348647909107&from=toutiao&offset=0&size=10&fn=1&prog=LMA1&passport=&devId=eW7qcXmjWleAjCxp25EgTBBywawDoVwZiZ9SMikG4cGiOa69wsn%2FdeHaaNGRMr2hIIGNeE0nI41SFrBIaL1THA%3D%3D&lat=DJEPdRawaRYCJZwF3SQobA%3D%3D&lon=7J7OmyytD8SqP0pSV1cJJA%3D%3D";r.getData(s).then(function(t){e.news.newsArray=t,e.news.adsArray=t.T1348647909107[0].ads}),e.items=[];var l=10;e.isShowInfinite=!0,e.loadMore=function(){l+=5;var t="http://c.m.163.com/recommend/getSubDocPic?from=toutiao&prog=LMA1&open=&openpath=&fn=1&passport=&devId=%2BnrKMbpU9ZDPUOhb9gvookO3HKJkIOzrIg%2BI9FhrLRStCu%2B7ZneFbZ30i61TL9kY&offset="+l+"&size=10&version=17.1&spever=false&net=wifi&lat=&lon=&ts=1480666192&sign=yseE2FNVWcJVjhvP48U1nPHyzZCKpBKh%2BaOhOE2d6GR48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=appstore";console.log(l),l<=40?r.getData(t).then(function(t){e.items=e.items.concat(t.tid),e.$broadcast("scroll.infiniteScrollComplete")}):(e.isShowInfinite=!1,console.log("到底啦!!"))},e.items=[],e.doRefresh=function(){var t="http://c.m.163.com/recommend/getSubDocPic?from=toutiao&offset=0&size=10";r.getData(t).then(function(t){e.items=t.tid,e.isShowInfinite=!0,l=10}).finally(function(){e.$broadcast("scroll.refreshComplete")})},e.scrollMainToTop=function(){a.$getByHandle("mainScroll").scrollTop()},e.doSome=function(t){var o=e.items[t].docid;console.log(e.items[t]),n.go("newCon",{data:o})}}]),angular.module("cftApp.news2",[]).controller("newsController2",["$scope","$ionicPopup","$ionicSlideBoxDelegate","$state","HttpFactory","UrlArray",function(e,t,n,o,i,a){e.news={newsArray2:[],adsArray2:[],index:0},e.$on("updateNews2",function(t,n){e.news.adsArray2=[],e.news.newsArray2=[],e.news.index=0,console.log("view2,"+n),"清理"!=n&&e.loadMore2(a[n])}),e.loadMore2=function(t){var n="";t?(n=t,n=n.replace("@",e.news.index)):n="http://c.m.163.com/recommend/getChanListNews?channel=T1456112189138&size=10&offset="+e.news.index+"&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640855&sign=n%2BRpzwR4DEI0MaavyBhQlpZaxlFxQdWjn0Ty7qOYWaB48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D",0===e.news.index?e.news.index+=11:e.news.index+=10,i.getData(n).then(function(t){return t?(e.news.adsArray2.length||t[0].ads&&(e.news.adsArray2=t[0].ads),e.news.newsArray2=e.news.newsArray2.concat(t),0===e.news.index&&e.news.newsArray2.splice(0,1),void e.$broadcast("scroll.infiniteScrollComplete")):void alert("没有更多数据!")})}}]),angular.module("myApp.personal",["ionic-datepicker"]).config(["$stateProvider","ionicDatePickerProvider",function(e,t){e.state("tabs.personal",{url:"/personal",views:{"tabs-personal":{templateUrl:"personal.html",controller:"personalController"}}});var n={inputDate:new Date,titleLabel:"Select a Date",setLabel:"Set",todayLabel:"Today",closeLabel:"Close",mondayFirst:!1,weeksList:["S","M","T","W","T","F","S"],monthsList:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],templateType:"popup",from:new Date(2012,8,1),to:new Date(2018,8,1),showTodayButton:!0,dateFormat:"dd MMMM yyyy",closeOnSelect:!1,disableWeekdays:[]};t.configDatePicker(n)}]).controller("personalController",["$scope","ionicDatePicker","$ionicBackdrop","$timeout",function(e,t,n,o){var i={callback:function(e){console.log("Return value from the datepicker popup is : "+e,new Date(e))},disabledDates:[new Date("Wednesday, August 12, 2015"),new Date("08-16-2016"),new Date(1439676e6)]};e.openDatePicker=function(){t.openDatePicker(i)};var a=1;e.changColor=function(){a++,a%2==0?n.retain():n.release()}}]),angular.module("myApp.tabs",[]).controller("tabsController",["$scope",function(e){}]),angular.module("myApp.topic",[]).config(["$stateProvider",function(e){e.state("tabs.topic",{url:"/topic",views:{"tabs-topic":{templateUrl:"topic.html",controller:"topicController"}}})}]).controller("topicController",["$scope","$ionicLoading","$state","$ionicViewSwitcher","HttpFactory",function(e,t,n,o,i){var a="http://c.m.163.com/newstopic/list/classification.html";e.item="",i.getData(a).then(function(t){console.log(t),e.item=t.data});var r=0;e.items=[],e.loadMore=function(){var t="http://c.m.163.com/newstopic/list/expert/5YyX5Lqs/"+r+"-10.html";i.getData(t).then(function(t){r+=10,e.items=e.items.concat(t.data.expertList),e.$broadcast("scroll.infiniteScrollComplete")})},e.doRefresh=function(){var t="http://c.m.163.com/newstopic/list/expert/5YyX5Lqs/0-10.html";i.getData(t).then(function(t){e.items=e.items.concat(t.data.expertList)}).finally(function(){e.$broadcast("scroll.refreshComplete")})},e.doSome=function(t){var o=e.items[t].expertId;n.go("topicOne",{data:o})},e.ddd=function(){console.log("ddddddd")},e.changHight=function(){var e=document.querySelector(".topicCarda");"67px"==e.style.height?e.style.height="210px":e.style.height="67px"}}]),angular.module("myApp.topicOne",[]).config(["$stateProvider",function(e){e.state("topicOne",{url:"/topicOne",templateUrl:"topicOne.html",controller:"topicOneController",params:{data:null}})}]).controller("topicOneController",["$scope","$stateParams","$sce","HttpFactory",function(e,t,n,o){var i=t.data,a="http://c.m.163.com/newstopic/qa/"+i+".html";o.getData(a).then(function(t){e.item=t.data,e.items=e.item.expert,console.log(e.item.expert);var n=document.querySelector(".ABC");console.log(n),e.items.relatedNews?(console.log("ddddddddddd"),e.imada=e.items.relatedNews,e.sy=!0):e.sy=!1}),e.changHight=function(){var e=document.querySelector(".topickKard");"275px"==e.style.height?e.style.height="100px":e.style.height="275px"}}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(e,t){return{getData:function(n,o){if(n){var i=t.defer();return n="http://localhost:3000/?myUrl="+encodeURIComponent(n),o=o?o:"GET",e({url:n,method:o,timeout:2e4}).then(function(e){e=e.data,i.resolve(e)},function(e){i.reject(e)}),i.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mgSlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},template:'<div class="topCarousel"><ion-slide-box delegate-handle="topCarouselSlideBox" on-slide-changed="slideHasChanged($index)" auto-play="true" slide-interval="1000" show-pager="true" does-continue="true" ng-if="isShowSlideBox" on-drag="drag($event)"> <ion-slide ng-repeat="ads in sourceArray track by $index" ng-click="goToDetailView($index)"><img ng-src="{{ads.imgsrc}}" class="topCarouselImg"></ion-slide> </ion-slide-box><div class="slideBottomDiv"></div></div>',controller:["$scope","$element","$ionicSlideBoxDelegate",function(e,t,n){e.goToDetailView=function(e){console.log("进入详情页"+e)};var o=t[0].lastElementChild;e.$watch("sourceArray",function(t,n){t&&t.length&&(e.isShowSlideBox=!0,o.innerText=e.sourceArray[0].title)}),e.slideHasChanged=function(e){},n.$getByHandle("mainSlideBox").enableSlide(!1),e.drag=function(e){n.$getByHandle("mainSlideBox").enableSlide(!1),e.stopPropagation()}}],replace:!0,link:function(e,t,n){}}}]),angular.module("cftApp.urls",[]).constant("UrlArray",["http://c.m.163.com/recommend/getSubDocPic?from=toutiao&prog=LMA1&open=&openpath=&fn=1&passport=&devId=%2BnrKMbpU9ZDPUOhb9gvookO3HKJkIOzrIg%2BI9FhrLRStCu%2B7ZneFbZ30i61TL9kY&offset=@&size=10&version=17.1&spever=false&net=wifi&lat=&lon=&ts=1480666192&sign=yseE2FNVWcJVjhvP48U1nPHyzZCKpBKh%2BaOhOE2d6GR48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=appstore","http://c.m.163.com/dlist/article/dynamic?from=T1348648517839&offset=@&size=10&fn=7&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639275&sign=ENAtFozNgGugOq3e1UL6hWbkeBqF24b8ECZ%2FOg2OGlZ48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1456112189138&size=10&offset=@&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640855&sign=n%2BRpzwR4DEI0MaavyBhQlpZaxlFxQdWjn0Ty7qOYWaB48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649079062&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639446&sign=cZqFpGcYxIM23Mk0zlBq8ziD1sRlb1GqZlwcRLb38aZ48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getSubDocPic?from=netease_h&size=10&offset=@&fn=4&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639599&sign=JIfO0JDD%2Bn9%2BAUDPwiCVNSwML5QPD%2BO1KSZcsmDfw2948ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/local/dynamic?from=6YOR5bee&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639679&sign=fibH0nYFS5ZqfhTkz%2Fctkn1b%2B%2B7UaCWuMhwPOm2XAxN48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1457068979049&size=10&offset=@&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639724&sign=uklrBnfDnFoSS86%2B44xw0tzktOhz8ek4D2b6Uh0bXk148ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348648756099&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639780&sign=PqlXEtC2KZaOX7vOO17uHuo4duhmWIxQqoQ4rBKRsQh48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649580692&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639824&sign=BENvYqDl9cYKiJh2irUV5%2Biue8PV%2FKHdFs3tQWGzBqd48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348650593803&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480639994&sign=L2rYDnEjMRXqgyoBwjDOU9%2FuAlHKEvkGbCcbOw0egKp48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/recommend/getChanListNews?channel=T1419316284722&size=10&offset=@&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640349&sign=kuB1wmMK3BIofo29zp1u%2FCelBxwQVclBPY2jLDS6PfV48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1473054348939&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640251&sign=TxI1npNtFDs5QSgpQr%2FOTwXPVB%2FvuqHD5Vj7E5Ul5t948ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348648141035&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640432&sign=LeTem6ZlcSys0TMWqSD%2FkavFP%2BW7CKnHNX3zs%2B6m3l548ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348654151579&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640614&sign=Ey6%2F0Qyd7pxjaaWUoZLQYriGwqX0xzmATqe6CpZ0C2x48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1414389941036&offset=@&size=10&fn=1&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480640649&sign=DXY4efOR3JOAgU6ePvFftxYD41PHsjGxZdWGM5quV0x48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D","http://c.m.163.com/dlist/article/dynamic?from=T1348649145984&offset=@&size=10&fn=2&passport=&devId=XTl7WnrkEuBfasUNdPC49g%3D%3D&lat=&lon=&version=17.2&net=wifi&ts=1480641094&sign=m32ovzEGXTpUeq0kQ%2BXNMNXg9B6bGu2D0vfF3xrFwjF48ErR02zJ6%2FKXOnxX046I&encryption=1&canal=oppo_store2014_news&mac=0qxu7nRwUAReuUxKr3NiFzDz%2FWJ7EEOtyLA2BsvQqp8%3D"]);